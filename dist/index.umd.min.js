!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dompp=e():t.dompp=e()}(self,(function(){return(()=>{var t={323:(t,e,r)=>{var n=r(176);t.exports=dataTree={create:function(){return new n}}},657:t=>{t.exports=function(){"use strict";function t(t){if(!t)throw new Error("Could not find a tree that is to be traversed");this._tree=t}return t.prototype.searchDFS=function(t){var e=null;return function r(n){if(n.matchCriteria(t))return e=n;n._childNodes.some(r)}(this._tree._rootNode),e},t.prototype.searchBFS=function(t){var e=null;return function(r){for(;r.length;){var n=r.splice(0,1)[0];if(n.matchCriteria(t))return void(e=n);n._childNodes.forEach((function(t){r.push(t)}))}}([this._tree._rootNode]),e},t.prototype.traverseDFS=function(t){!function e(r){t(r),r._childNodes.forEach(e)}(this._tree._rootNode)},t.prototype.traverseBFS=function(t){!function(e){for(;e.length;){var r=e.splice(0,1)[0];t(r),r._childNodes.forEach((function(t){e.push(t)}))}}([this._tree._rootNode])},t}()},958:t=>{t.exports=function(){"use strict";function t(t){this._parentNode=null,this._childNodes=[],this._data=t,this._depth=-1}return t.prototype.parentNode=function(){return this._parentNode},t.prototype.childNodes=function(){return this._childNodes},t.prototype.data=function(t){if(!(arguments.length>0))return this._data;this._data=t},t.prototype.depth=function(){return this._depth},t.prototype.matchCriteria=function(t){return t(this._data)},t.prototype.siblings=function(){var t=this;return this._parentNode?this._parentNode._childNodes.filter((function(e){return e!==t})):[]},t.prototype.distanceToRoot=function(){for(var t=0,e=this;e.parentNode();)t++,e=e.parentNode();return t},t.prototype.getAncestry=function(){for(var t=[this],e=this;e.parentNode();)t.push(e.parentNode()),e=e.parentNode();return t},t.prototype.export=function(t){if(!t||"function"!=typeof t)throw new Error("Export criteria not specified");var e=function(r){var n=r.matchCriteria(t);if(n&&"object"==typeof n)return n.children=[],r._childNodes.forEach((function(t){n.children.push(e(t))})),n;throw new Error("Export criteria should always return an object and it cannot be null.")};return e(this)},t}()},176:(t,e,r)=>{var n=r(958),s=r(657);t.exports=function(){"use strict";function t(){this._rootNode=null,this._currentNode=null,this._traverser=new s(this)}return t.prototype.rootNode=function(){return this._rootNode},t.prototype.currentNode=function(){return this._currentNode},t.prototype.traverser=function(){return this._traverser},t.prototype.isEmpty=function(){return null===this._rootNode&&null===this._currentNode},t.prototype.pruneAllNodes=function(){return this._rootNode&&this._currentNode&&this.trimBranchFrom(this._rootNode),this},t.prototype.insert=function(t){var e=new n(t);return null===this._rootNode&&null===this._currentNode?(e._depth=1,this._rootNode=this._currentNode=e):(e._parentNode=this._currentNode,this._currentNode._childNodes.push(e),this._currentNode=e,e.depth=e._parentNode._depth+1),e},t.prototype.remove=function(t,e){e||t===this._rootNode?this.trimBranchFrom(t):(t._childNodes.forEach((function(e){e._parentNode=t._parentNode,t._parentNode._childNodes.push(e)})),t._parentNode._childNodes.splice(t._parentNode._childNodes.indexOf(t),1),this._currentNode=t._parentNode,t._childNodes=[],t._parentNode=null,t._data=null)},t.prototype.trimBranchFrom=function(t){var e=this;!function t(e){e._childNodes.forEach(t),e._childNodes=[],e._data=null}(t),t._parentNode?(t._parentNode._childNodes.splice(t._parentNode._childNodes.indexOf(t),1),e._currentNode=t._parentNode):e._rootNode=e._currentNode=null},t.prototype.insertTo=function(t,e){var r=this.traverser().searchDFS(t);return this.insertToNode(r,e)},t.prototype.insertToNode=function(t,e){var r=new n(e);return r._parentNode=t,r._depth=r._parentNode._depth+1,t._childNodes.push(r),this._currentNode=r,r},t.prototype.distanceBetween=function(t,e){return t.distanceToRoot()+e.distanceToRoot()-2*this.findCommonParent(t,e).distanceToRoot()},t.prototype.findCommonParent=function(t,e){var r=t.getAncestry(),n=e.getAncestry(),s=null;return r.some((function(t){if(-1!==n.indexOf(t))return s=t,!0})),s},t.prototype.export=function(t){return this._rootNode?this._rootNode.export(t):null},t.prototype.compress=function(e){if(!e||"function"!=typeof e)throw new Error("Compress criteria not specified");if(this.isEmpty())return null;var r=new t,n=this;return function t(s,i){n.rootNode()===s||s.matchCriteria(e)?i=r.isEmpty()?r.insert(s.data()):r.insertToNode(i,s.data()):i._data.hasCompressedNodes=!0,s.childNodes().forEach((function(e){t(e,i)}))}(this.rootNode(),null),r},t.prototype.import=function(t,e,r){this._rootNode&&this.trimBranchFrom(this._rootNode),this._currentNode=this._rootNode=null;var n=this;return function t(s,i){var o=r(i);s=s?n.insertToNode(s,o):n.insert(o),i[e].forEach((function(e){t(s,e)}))}(this._rootNode,t),this._currentNode=this._rootNode,this},t}()}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{AbstractFunction:()=>N,Addition:()=>k,All:()=>p,AndNode:()=>D,Argument:()=>nt,ArgumentValue:()=>st,AtomicFunction:()=>_,AtomicFunctionReturnValue:()=>S,BackgroundColor:()=>Vt,BooleanAnd:()=>q,BooleanNot:()=>A,BooleanOr:()=>F,BorderColor:()=>Pt,BorderRadius:()=>Bt,BorderStyle:()=>It,BorderWidth:()=>Dt,Color:()=>_t,ComposedFunction:()=>K,ComposedFunctionValue:()=>X,CompoundDesignator:()=>g,ConstantDesignator:()=>y,ConstantFunction:()=>w,ConstantValue:()=>m,CssPropertyFunction:()=>yt,DesignatedObject:()=>$,Designator:()=>c,DimensionHeight:()=>xt,DimensionWidth:()=>Nt,Display:()=>$t,Division:()=>Q,ElementAttribute:()=>vt,ElementAttributeValue:()=>mt,Enumerate:()=>H,EnumeratedValue:()=>Z,ExistentialQuantifier:()=>gt,Explainer:()=>R,FindBySelector:()=>Qt,Float:()=>kt,FontFamily:()=>wt,FontSize:()=>bt,FunctionNamedArgument:()=>rt,GreaterOrEqual:()=>z,GreaterThan:()=>J,Identity:()=>V,InputArgument:()=>b,IsEqualTo:()=>L,LesserOrEqual:()=>G,LesserThan:()=>U,MarginBottom:()=>Ot,MarginLeft:()=>jt,MarginRight:()=>qt,MarginTop:()=>Ct,Multiplication:()=>M,NamedArgument:()=>tt,NamedArgumentValue:()=>et,NaryConjunctiveVerdict:()=>j,NaryDisjunctiveVerdict:()=>O,NaryValue:()=>v,Nothing:()=>h,NthItem:()=>Y,ObjectNode:()=>B,Opacity:()=>St,OrNode:()=>I,PaddingBottom:()=>At,PaddingLeft:()=>Tt,PaddingRight:()=>Et,PaddingTop:()=>Ft,Path:()=>Wt,PathValue:()=>Mt,Position:()=>Lt,Quantifier:()=>lt,QuantifierConjunctiveVerdict:()=>dt,QuantifierDisjunctiveVerdict:()=>ht,QuantifierVerdict:()=>ct,ReturnValue:()=>x,Substraction:()=>W,TestCondition:()=>ot,TestDriver:()=>it,TestResult:()=>at,Tracer:()=>T,UniversalQuantifier:()=>pt,Unknown:()=>d,UnknownNode:()=>P,Value:()=>f,Verdict:()=>ut,Visibility:()=>Rt,WebElementFunction:()=>ft,evaluateDom:()=>Jt,getTreeFromWitness:()=>zt,getVerdict:()=>Ut});var t,e,s,i=r(323);function o(t,e){return null==t&&null==e||!(null==t&&null!=e||null!=t&&null==e)&&("function"==typeof t.equals?t.equals(e):t===e)}function u(t,e){for(var r=0;r<t.length;r++)if(o(t[r],e))return!0;return!1}function a(t){if("object"!=typeof t)return!1;for(;""!==t.constructor.name&&"Object"!==t.constructor.name;){if("HTMLElement"===(t.name||t.constructor.name))return!0;t=Object.getPrototypeOf(t.constructor)}return!1}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class c{constructor(){}head(){return this}tail(){return null}equals(t){return null!=t&&t instanceof c&&t==this}}class h extends c{constructor(){super()}toString(){return"Nothing"}equals(t){return null!=t&&t instanceof h}}l(h,"instance",new h);class d extends c{constructor(){super()}toString(){return"Unknown"}equals(t){return null!=t&&t instanceof d}}l(d,"instance",new d);class p extends c{constructor(){super()}toString(){return"All"}equals(t){return null!=t&&t instanceof p}}l(p,"instance",new p);class g extends c{static create(){if(0==arguments.length)return h.instance;for(var t=[],e=0;e<arguments.length;e++)null!=arguments[e]&&(arguments[e]instanceof g?t.push(...arguments[e].elements):t.push(arguments[e]));return 0==t.length?h.instance:1==t.length?t[0]:new g(...t)}constructor(){super(),this.elements=[];for(var t=0;t<arguments.length;t++)this.add(arguments[t])}add(t){if(null!=t)if(t instanceof g)for(var e=0;e<t.elements.length;e++)this.add(t.elements[e]);else this.elements.push(t)}size(){return this.elements.length}head(){return 0==this.elements.length?new h:this.elements[this.elements.length-1]}tail(){if(this.elements.length<=1)return null;if(2==this.elements.length)return this.elements[0];for(var t=new g,e=0;e<this.elements.length-1;e++)t.add(this.elements[e]);return t}toString(){for(var t="",e=0;e<this.elements.length;e++)e>0&&(t+=" of "),t+=this.elements[e].toString();return t}equals(t){if(null==t||!(t instanceof g))return!1;if(t.size()!=this.size())return!1;for(var e=0;e<this.elements.length;e++)if(!o(this.elements[e],t.elements[e]))return!1;return!0}}class f{getValue(){return null}query(t,e,r,n){}static lift(t){return t instanceof f?t:new m(t)}}class v extends f{constructor(t,e=[],r=[]){super(),this.value=t,this.values=e,this.positions=r}getValue(){return this.value}}class m extends f{constructor(t){super(),this.value=t}query(t,e,r,n){var s=[],i=g.create(e,new y),o=n.getObjectNode(i,this.value);return r.addChild(o),s.push(o),s}getValue(){return this.value}toString(){return this.value.toString()}equals(t){return null!=t&&t instanceof f&&t.getValue()===this.value}}class y extends c{toString(){return"Value"}}class N{constructor(){}static lift(t){return t instanceof N?t:new w(f.lift(t))}evaluate(){return null}setTo(t,e){}getArity(){return 0}equals(t){return null!=t&&t instanceof N&&t==this}}class x extends c{constructor(){super()}toString(){return"!"}equals(t){return null!=t&&t instanceof x}}t=x,e="instance",s=new x,e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s;class b extends c{constructor(t){super(),this.index=t}getIndex(){return this.index}toString(){return"@"+this.index}equals(t){return null!=t&&t instanceof b&&t.getIndex()==this.index}}class w extends N{constructor(t){super(),this.value=f.lift(t)}evaluate(){return this.value}getArity(){return 0}set(t,e){return this}}class _ extends N{constructor(t){super(),this.arity=t}evaluate(){for(var t=[],e=0;e<arguments.length;e++)t[e]=f.lift(arguments[e]);return this.compute(...t)}compute(){if(arguments.length!==this.arity)throw"Invalid number of arguments";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e].getValue());var r=this.getValue(...t);return r instanceof f?r:new S(this,r,...arguments)}getValue(){return null}set(){return this}}class S extends f{constructor(){super(),this.referenceFunction=arguments[0],this.outputValue=arguments[1],this.inputValues=[];for(var t=2;t<arguments.length;t++)this.inputValues.push(arguments[t])}getValue(){return this.outputValue}toString(){return this.outputValue.toString()}query(t,e,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.inputValues.length;o++)if(null!==this.inputValues[o]){var u,a=g.create(e.tail(),new b(o)),l=n.getObjectNode(a,this.referenceFunction);u=this.inputValues[o].query(t,x.instance,l,n),s.push(...u),i.addChild(l)}var c=n.getObjectNode(e,this.referenceFunction);return 1===i.getChildren().length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class V extends _{constructor(){super(1)}getValue(){return arguments[0]}}class C extends _{constructor(){super("arity")}compute(){for(var t=[],e=[],r=[],n=[],s=0;s<arguments.length;s++){var i=arguments[s].getValue();if("boolean"!=typeof i)throw"Invalid argument type";!0===i?(r.push(arguments[s]),n.push(s)):(t.push(arguments[s]),e.push(s))}return this.getBooleanValue(t,r,e,n)}}class O extends v{query(t,e,r,n){for(var s=[],i=n.getOrNode(),o=0;o<this.values.length;o++){var u,a=g.create(e.tail(),new b(this.positions[o])),l=n.getObjectNode(a,this.referenceFunction);u=this.values[o].query(t,x.instance,l,n),s.push(...u),i.addChild(l)}return 1===i.getChildren().length?r.addChild(i.getChildren()[0]):r.addChild(i),s}}class j extends v{constructor(t,e=[],r=[]){super(t,e,r)}query(t,e,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.values.length;o++){var u,a=g.create(e.tail(),new b(this.positions[o])),l=n.getObjectNode(a,this.referenceFunction);u=this.values[o].query(t,x.instance,l,n),s.push(...u),i.addChild(l)}return 1===i.getChildren().length?r.addChild(i.getChildren()[0]):r.addChild(i),s}}class q extends C{constructor(t=2){super(t)}getBooleanValue(t=[],e=[],r=[],n=[]){return 0===t.length?new j(!0,e,n):new O(!1,t,r)}toString(){return"And"}}class F extends C{constructor(t=2){super(t)}getBooleanValue(t=[],e=[],r=[],n=[]){return 0===e.length?new j(!1,t,r):new O(!0,e,n)}toString(){return"Or"}}class A extends _{constructor(){super(1)}getValue(){if("boolean"!=typeof arguments[0])throw"Invalid argument type";return!arguments[0]}toString(){return"Not"}}class T{constructor(){this.nodes=new Map,this.tracerContext=[],arguments.length>0&&(this.tracerContext=arguments),this.simplify=!0}setSimplify(t){this.simplify=t}getObjectNode(t,e){if(t instanceof $)var r=t;else r=new $(t,e);if(function(t,e){for(const[r]of t)if(o(r,e))return!0;return!1}(this.nodes,r))return function(t,e){for(const[r,n]of t)if(r.equals(e))return n;return null}(this.nodes,r);var n=new B(r);return function(t,e,r){for(const[n]of t)if(o(n,e))return void t.set(n,r);t.set(e,r)}(this.nodes,r,n),n}getAndNode(){return new D}getOrNode(){return new I}getUnknownNode(){return new P}getSubTracer(t){var e=[];return e.push(...this.tracerContext),e.push(t),new T(...e)}getTree(t,e,r){var n=this.getObjectNode(e,r);return this.getChildren(t,n,[]),n}getChildren(t,e,r){if(!u(r,e)&&(r.push(e),e instanceof B)){var n=e.getDesignatedObject(),s=n.getObject(),i=n.getDesignator();if(!(i instanceof p||i instanceof h||i instanceof d)&&"function"==typeof s.query)for(var o=s.query(t,i,e,this),a=0;a<o.length;a++)this.getChildren(t,o[a],r)}}}class E{constructor(){this.id=E.TN_ID_COUNTER++,this.children=[]}getId(){return this.id}addChild(t){t!=this&&this.children.push(t)}getChildren(){return this.children}}!function(t,e,r){e in t?Object.defineProperty(t,e,{value:0,enumerable:!0,configurable:!0,writable:!0}):t[e]=0}(E,"TN_ID_COUNTER");class D extends E{constructor(){super()}toString(){var t="";1==arguments.length&&(t=arguments[0]);var e="";e+=t+"^\n";for(var r=0;r<this.children.length;r++)e+=t+this.children[r].toString(t+" ");return e}addChild(t){if(t instanceof D)for(var e=0;e<t.children.length;e++)this.children.push(t.children[e]);else this.children.push(t)}}class I extends E{constructor(){super()}toString(){var t="";1==arguments.length&&(t=arguments[0]);var e="";e+=t+"v\n";for(var r=0;r<this.children.length;r++)e+=t+this.children[r].toString(t+" ");return e}addChild(t){if(t instanceof I)for(var e=0;e<t.children.length;e++)this.children.push(t.children[e]);else this.children.push(t)}}class P extends E{constructor(){super()}toString(){return"?"}}class B extends E{constructor(t,e){super(),this.designatedObject=t instanceof $?t:new $(t,e)}getDesignatedObject(){return this.designatedObject}toString(){return this.designatedObject.toString()}}class ${constructor(t,e,r){this.designator=t,this.object=e,this.context=arguments.length>=3?r:[]}getDesignator(){return this.designator}getObject(){return this.object}getContext(){return this.context}equals(t){return null!=t&&t instanceof $&&(null==this.object&&null==t.object||null!=this.object&&o(this.object,t.object))&&this.designator.equals(t.designator)&&this.sameContext(t)}sameContext(t){if(this.context.length!=t.context.length)return!1;for(var e=0;e<this.context.length;e++)if(this.context[e]!=t.context[e])return!1;return!0}toString(){return this.designator.toString()+" of "+this.object.toString()}}class R{constructor(){}static explain(t,e=!0){var r=new T;return r.setSimplify(e),r.getTree(null,x.instance,t)}}class L extends _{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];return null==t&&null==e||!(null==t&&null!=e||null!=t&&null==e)&&("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e)&&t===e}}class k extends _{constructor(t=2){super(t)}getValue(){for(var t=0,e=0;e<this.arity;e++){var r=arguments[e];if("number"!=typeof r)throw"Invalid argument type";t+=r}return t}toString(){return"Addition"}}class W extends _{constructor(t=3){super(t)}getValue(){for(var t=arguments[0],e=1;e<arguments.length;e++){var r=arguments[e];if("number"!=typeof r)throw"Invalid argument type";t-=r}return t}toString(){return"Substraction"}}class M extends _{constructor(t=5){super(t)}compute(){if(arguments.length!==this.arity)throw"Invalid number of arguments";for(var t=[],e=[],r=1,n=0;n<this.arity;n++){var s=arguments[n].getValue();if("number"!=typeof s)throw"Invalid argument type";0===s?(t.push(arguments[n]),e.push(n)):r*=s}return this.getZeroValue(t,e,r)}getZeroValue(t=[],e=[],r=null){return 0===t.length?r:(console.log(`Position of the returned Zero is ${e} in the array`),parseFloat(t))}toString(){return"Multiplication"}}class Q extends _{constructor(t=4){super(t)}getValue(){for(var t=arguments[0],e=1;e<arguments.length;e++){var r=arguments[e];if("number"!=typeof r)throw"Invalid argument type";t/=r}return t}toString(){return"Division"}}class J extends _{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. GreaterThan expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t>e}toString(){return"&gt;"}}class U extends _{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. LesserThan expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t<e}toString(){return"&lt;"}}class z extends _{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. GreaterOrEqual expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t>=e}toString(){return"&ge;"}}class G extends _{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. LesserOrEqual expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t<=e}toString(){return"&le;"}}class H extends _{constructor(){super(1)}compute(){var t=arguments[0].getValue();if(!Array.isArray(t))throw"Invalid argument type";for(var e=[],r=[],n=0;n<t.length;n++)e.push(f.lift(t[n]));for(let n=0;n<t.length;n++)r.push(new Z(n,e));return new S(this,r,...arguments)}getValue(){return null}}class Z extends f{constructor(t,e){super(),this.index=t,this.inputList=e}query(t,e,r,n){var s=[],i=g.create(e.tail(),new Y(this.index)),o=n.getObjectNode(i,this.inputList);r.addChild(o);var u=this.inputList[this.index].query(t,i,o,n);return s.push(...u),s}getValue(){return this.inputList[this.index].getValue()}toString(){return this.inputList[this.index].getValue().toString()}equals(t){return null!=t&&t instanceof Z&&this.index===t.index&&this.inputList===t.inputList}}class Y extends c{constructor(t){super(),this.index=t}appliesTo(t){return Array.isArray(t)}getIndex(){return this.index}toString(){return"Element #"+(this.index+1)}}class K extends N{constructor(t,...e){super(),this.operator=t,this.operands=[];for(var r=0;r<e.length;r++)if("string"==typeof e[r]){var n=e[r];if(n.startsWith("@")){var s=n.substring(1).trim();this.operands.push(new nt(s));continue}if(n.startsWith("$")){this.operands.push(new tt(this,n.substring(1).trim()));continue}}else this.operands.push(N.lift(e[r]))}setName(t){return this.name=t,this}set(t,e){for(var r=new K(this.operator),n=[],s=0;s<this.operands.length;s++)n.push(this.operands[s].set(t,e));return r.operands=n,r}getArity(){var t=[];return this.getArguments(t),t.length}getArguments(t){for(var e=0;e<this.operands.length;e++){var r=this.operands[e];r instanceof K&&r.getArguments(t),r instanceof nt&&t.push(r.index),r instanceof tt&&t.push(e)}}evaluate(){for(var t=[],e=0;e<this.operands.length;e++)t.push(this.operands[e].evaluate(...arguments));var r=this.operator.evaluate(...t);return new X(this,r,...t)}toString(){return null!=this.name?this.name:"F("+this.operator.toString()+")"}}class X extends f{constructor(t,e,...r){super(),this.referenceFunction=t,this.inputValues=r,this.returnValue=e}query(t,e,r,n){var s=[];if(!(e.head()instanceof x))return s;for(var i=g.create(x.instance,e.tail()),o=n.getObjectNode(i,this.referenceFunction.operator),u=this.returnValue.query(t,e,o,n),a=[],l=0;l<u.length;l++){var c=u[l];if(c instanceof B){var h=c.getDesignatedObject().getDesignator();if(h.head()instanceof b){var d=h.head().getIndex();a.push(...this.inputValues[d].query(t,i,c,n));continue}}a.push(c)}return s.push(...a),r.addChild(o),s}getValue(){return this.returnValue.getValue()}toString(){return this.returnValue.toString()}}class tt extends N{constructor(t,e){super(),this.name=e,this.value=null,this.referenceFunction=t,this.isSet=!1}set(t,e){return this.name!==t&&"$"+this.name!==t||(this.value=f.lift(e)),this.isSet=!0,this}evaluate(){if(this.isSet)return new et(this.name,this.value);for(var t=0;t<this.referenceFunction.operands.length;t++)if(this.referenceFunction.operands[t]instanceof tt&&this.name===this.referenceFunction.operands[t].getName())return new et(this.name,f.lift(arguments[t]));return new et(this.name,this.value)}toString(){return"$"+this.name}getArity(){return 0}getName(){return this.name}}class et extends f{constructor(t,e){super(),this.value=e,this.name=t}query(t,e,r,n){var s=[],i=g.create(e.tail(),new rt(this.name,this.value)),o=n.getObjectNode(i,this.value),u=this.value.query(t,e,o,n);return s.push(...u),r.addChild(o),s}getValue(){return this.value.getValue()}toString(){return this.value.getValue().toString()}}class rt extends c{constructor(t,e){super(),this.name=t,this.value=e}appliesTo(t){return t instanceof Function}head(){return this}tail(){return null}toString(){return"$"+this.name+"/"+this.value}}class nt extends N{constructor(t){super(),this.index=t}set(t,e){return this}evaluate(){var t=f.lift(arguments[this.index]);return new st(this,t,this.index)}toString(){return"@"+this.index}}class st extends f{constructor(t,e,r){super(),this.value=e,this.index=r,this.referenceFunction=t}query(t,e,r,n){var s=[],i=g.create(e.tail(),new b(this.index,this.value)),o=n.getObjectNode(i,this.value),u=this.value.query(t,e,o,n);return s.push(...u),r.addChild(o),s}getValue(){return this.value.getValue()}}class it{constructor(){this.conditions=[],arguments.length>0&&(this.conditions=arguments),this.returnedValues=[]}add(){this.conditions.push(...arguments)}evaluateAll(t){this.returnedValues=[];for(var e=0;e<this.conditions.length;e++){var r=this.conditions[e].evaluate(t);this.returnedValues.push(r)}}getResult(){for(var t=[],e=0;e<this.conditions.length;e++)t.push(new ut(this.returnedValues[e],this.conditions[e]));return new at(...t)}}class ot{constructor(t,e){this.name=t,this.function=e}getName(){return this.name}evaluate(t){return this.function.evaluate(t)}}class ut{constructor(t,e){this.value=t,this.condition=e}getCondition(){return this.condition}getValue(){return this.value}getResult(){return!!this.value.getValue()}getWitness(){var t=[],e=R.explain(this.value);return ut.pick(e,t),t}static pick(t,e,r=[]){if(!u(r,t))if(r.push(t),t instanceof D)for(var n=0;n<t.getChildren().length;n++)ut.pick(t.getChildren()[n],e,r);else if(t instanceof I)for(var s=!0;s;)ut.pick(t.getChildren()[n],e,r),s=!1;else if(t instanceof B)if(0===t.getChildren().length)e.push(t.getDesignatedObject());else for(let n=0;n<t.getChildren().length;n++)ut.pick(t.getChildren()[n],e,r)}}class at{constructor(){this.verdicts=arguments}getVerdicts(){return this.verdicts}getResult(){for(var t=0;t<this.verdicts.length;t++)if(!this.verdicts[t].getResult())return!1;return!0}}class lt extends N{constructor(t,e,r){super(),"number"==typeof t?this.index=t:this.variable=t,this.domain=e,this.phi=r}getArity(){return 1}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var t=[],e=[],r=this.domain.evaluate(...arguments).getValue();if(!Array.isArray(r))throw"Domain expression does not return a list";for(var n=r,s=0;s<n.length;s++){var i=f.lift(n[s]),o=this.phi.set(this.variable,i).evaluate(...arguments),u=o.getValue();if("boolean"!=typeof u)throw"Invalid argument type";u?t.push({value:i,verdict:o}):e.push({value:i,verdict:o})}return this.getQuantifierValue(e,t)}getQuantifierValue(t,e){return null}}class ct extends f{constructor(t,e,r){super(),this.value=e,this.verdicts=r,this.referenceFunction=t}getValue(){return this.value}toString(){return this.value.toString()}}class ht extends ct{query(t,e,r,n){for(var s=[],i=n.getOrNode(),o=0;o<this.verdicts.length;o++){var u=this.verdicts[o].verdict,a=n.getSubTracer(this.referenceFunction),l=u.query(t,x.instance,i,a);s.push(...l)}var c=n.getObjectNode(x.instance,this.referenceFunction);return 1===this.verdicts.length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class dt extends ct{query(t,e,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.verdicts.length;o++){var u=this.verdicts[o].verdict,a=n.getSubTracer(u),l=u.query(t,x.instance,i,a);s.push(...l)}var c=n.getObjectNode(x.instance,this.referenceFunction);return 1===this.verdicts.length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class pt extends lt{getQuantifierValue(t=[],e=[]){return 0===t.length?new dt(this,!0,e):new ht(this,!1,t)}toString(){return"ForAll"}set(t,e){return new pt(this.variable,this.domain.set(t,e),this.phi.set(t,e))}}class gt extends lt{getQuantifierValue(t=[],e=[]){return e.length>0?new ht(this,!0,e):new dt(this,!1,t)}toString(){return"Exists"}set(t,e){return new gt(this.variable,this.domain.set(t,e),this.phi.set(t,e))}}class ft extends _{constructor(t){super(1),this.name=t}compute(){var t=this.get(arguments[0].getValue());return new mt(this.name,arguments[0],t)}get(t){return null}getOwnerWindow(t){return t.ownerDocument.defaultView||t.ownerDocument.parentWindow}getElementComputedStyle(t){return this.getOwnerWindow(t).getComputedStyle(t)}}class vt extends c{constructor(t){super(),this.name=t}toString(){return this.name}}class mt extends f{constructor(t,e,r){super(),this.name=t,this.input=f.lift(e),this.value=f.lift(r)}getValue(){return this.value.getValue()}toString(){return this.value.getValue().toString()}query(t,e,r,n){var s=[],i=g.create(new vt(this.name),e),o=n.getObjectNode(i,this.input);return s.push(...this.input.query(t,i,o,n)),r.addChild(o),s}}class yt extends ft{constructor(t,e=null){if(-1==["float","int","string",null].indexOf(e))throw new Error(`CssPropertyFunction returnType expects one of the following values: "float", "int", "string", null. Received ${e} instead.`);super(t),this.returnType=e}get(t){const e=this.getElementComputedStyle(t).getPropertyValue(this.name);switch(this.returnType){case"float":return parseFloat(e);case"int":return parseInt(e);case"string":return"string"==typeof e?e:e.toString()}return e}}class Nt extends ft{constructor(){super("width")}get(t){return t.offsetWidth}}class xt extends ft{constructor(){super("height")}get(t){return t.offsetHeight}}class bt extends yt{constructor(){super("font-size")}}class wt extends yt{constructor(){super("font-family")}}class _t extends yt{constructor(){super("color")}}class St extends yt{constructor(){super("opacity","float")}}class Vt extends yt{constructor(){super("background-color")}}class Ct extends yt{constructor(){super("margin-top")}}class Ot extends yt{constructor(){super("margin-bottom")}}class jt extends yt{constructor(){super("margin-left")}}class qt extends yt{constructor(){super("margin-right")}}class Ft extends yt{constructor(){super("padding-top")}}class At extends yt{constructor(){super("padding-bottom")}}class Tt extends yt{constructor(){super("padding-left")}}class Et extends yt{constructor(){super("padding-right")}}class Dt extends yt{constructor(){super("border-width")}}class It extends yt{constructor(){super("border-style")}}class Pt extends yt{constructor(){super("border-color")}}class Bt extends yt{constructor(){super("border-radius")}}class $t extends yt{constructor(){super("display")}}class Rt extends yt{constructor(){super("visibility")}}class Lt extends yt{constructor(){super("position")}}class kt extends yt{constructor(){super("float")}}class Wt extends c{constructor(t){super(),this.path=t}toString(){return this.path}}class Mt extends f{constructor(t,e,r){super(),this.value=f.lift(r),this.root=f.lift(e),this.path=t}query(t,e,r,n){var s=[],i=g.create(e.tail(),this.path),o=n.getObjectNode(i,this.root);return s.push(...this.root.query(t,i,o,n)),r.addChild(o),s}getValue(){return this.value.getValue()}toString(){return this.value.toString()}}class Qt extends H{constructor(t){super(),this.selector=t}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var t=f.lift(arguments[0]),e=t.getValue(),r=e.querySelectorAll(this.selector),n=[],s=[];for(let t=0;t<r.length;t++){var i=Qt.getPathTo(r[t]),o=new Mt(new Wt(i),e,r[t]);n.push(o)}for(let t=0;t<n.length;t++)s.push(new Z(t,n));return new S(this,s,t)}static getPathTo(t){if(""!==t.id)return'id("'+t.id+'")';if("BODY"===t.tagName)return t.tagName;var e=0,r=t.parentNode.childNodes;for(let s=0;s<r.length;s++){var n=r[s];if(n===t)return this.getPathTo(t.parentNode)+"/"+t.tagName+"["+(e+1)+"]";1===n.nodeType&&n.tagName===t.tagName&&e++}}}function Jt(t,e=[]){for(var r=[],n=0;n<e.length;n++){var s=Ut(t,e[n]);null!=s&&r.push(s)}return r}function Ut(t,e){if(null===t)return null;const r=e.evaluate(t);return!0===r.value?null:zt(new ut(r,e).getWitness())}function zt(t=[]){const e=i.create();for(const r of t){const t=[];let n,s=null,i=null;if(a(r.getObject())){const t=r.getDesignator().elements;s=t[t.length-2].toString()||null,i=t[t.length-3].toString()||null,n="Path"}else s=r.getObject(),n="ConstantDesignator";for(const e of r.getDesignator().elements){if(e.constructor.name===n)break;t.push(e.toString())}e.insert({elementAttribute:i,part:t,subject:s})}return e}})(),n})()}));
//# sourceMappingURL=index.umd.min.js.map